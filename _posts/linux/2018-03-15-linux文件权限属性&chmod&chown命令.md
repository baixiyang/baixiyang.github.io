---
categories: [linux]
---
## 权限属性
##### 权限属性可以通过ll -al命令查看

```
ls -al

得到如下列表：
drwxr-xr-x   4 oracle dba       4096 May 20 11:47 oralog1
drwxr-x---  18 root   root      4096 May 20 13:51 root

解释：
d ：第一位表示文件类型，d是目录文件、l是链接文件、-是普通文件、p是管道

rwx ：第2-4位表示这个文件的属主拥有的权限。r是读、w是写、x是执行

r-x ：第5-7位表示和这个文件属主所在同一个组的用户所具有的权限

r-x ：第8-10位表示其他用户所具有的权限

比如：
drwxr-xr-x   4 oracle dba       4096 May 20 11:47 oralog1

表示oralog1是个目录，oracle拥有读写执行的权限，和oracle所在同一个dba组里的用户拥有只读和执行权限，剩下其他用户拥有只读和执行权限！
```


## chmod 命令
##### chmod用于改变文件或目录的访问权限。用户用它控制文件或目录的访问权限。 该命令有两种用法。一种是包含字母和操作符表达式的文字设定法；另一种是包含 数字的数字设定法。

### 语法:

```
chmod [-cfvR] [--help] [--version] [ugoa...][[+-=][rwxX]...][,...] file...
```



#### 语法说明:

```
操作对象who可是下述字母中的任一个或者它们的组合：
　　u 表示“用户（user）”，即文件或目录的所有者。
　　g 表示“同组（group）用户”，即与文件属主有相同组ID的所有用户。
　　o 表示“其他（others）用户”。
　　a 表示“所有（all）用户”。它是系统默认值。

-cfvR:可以没有
  -c或——changes：效果类似“-v”参数，但仅回报更改的部分；
  -f或--quiet或——silent：不显示错误信息；
  -R或——recursive：递归处理，将指令目录下的所有文件及子目录一并处理；
  -v或——verbose：显示指令执行过程；
  --reference=<参考文件或目录>：把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同；

操作符号可以是：
　　+ 添加某个权限。
　　- 取消某个权限。
　　= 赋予给定权限并取消其他所有权限（如果有的话）。

设置 mode 所表示的权限可用下述字母的任意组合：
　　r 可读。
　　w 可写。
  　x 可执行。
　　X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。
　　s 在文件执行时把进程的属主或组ID置为该文件的文件属主。
      方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。
　　t 保存程序的文本到交换设备上。
　　u 与文件属主拥有一样的权限。
　　g 与和文件属主同组的用户拥有一样的权限。
　　o 与其他用户拥有一样的权限。



文件名：以空格分开的要改变权限的文件列表，支持通配符。



e.g:
  chmod -R a+x first #其含义就是为所有用户赋予执行first文件夹所有文件的权限

  chmod ug+w,o-w file1.txt file2.txt 将文件 file1.txt 与 file2.txt 设为该文件拥有者，与其所属同一个群体者可写入，但其他以外的人则不可写入 :


```

### 另一种语法

```
 chmod abc file

```

其中a,b,c各为一个数字，分别表示User、Group、及Other的权限。
r=4，w=2，x=1
* 若要rwx属性则4+2+1=7；
* 若要rw-属性则4+2=6；
* 若要r-x属性则4+1=5。

```
chmod ug=rwx,o=x file
```

和

```
chmod 771 file
```

效果相同

## chown
### 语法

```
chown [-cfhvR] [--help] [--version] user[:group] file...
```

* user : 新的文件拥有者的使用者 ID
* group : 新的文件拥有者的使用者群体(group)
* -c : 若该文件拥有者确实已经更改，才显示其更改动作
* -f : 若该文件拥有者无法被更改也不要显示错误讯息
* -h : 只对于连结(link)进行变更，而非该 link 真正指向的文件
* -v : 显示拥有者变更的详细资料
* -R : 对目前目录下的所有文件与子目录进行相同的拥有者变更(即以递回的方式逐个变更)
* --help : 显示辅助说明
* --version : 显示版本

### 实例

将文件 file1.txt 的拥有者设为 users 群体的使用者 jessie :
```
chown jessie:users file1.txt
```

将目前目录下的所有文件与子目录的拥有者皆设为 users 群体的使用者 lamport :

```
chown -R lamport:users *
```